<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plumber Calculator</title>
  <style>
    * { box-sizing: border-box; }

    body{
      margin:0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      background:#f4f6f8;
      padding:18px;
      color:#111;
    }

    .calc{
      max-width:520px;
      margin:0 auto;
      background:#fff;
      padding:22px 18px;
      border-radius:14px;
      box-shadow:0 10px 30px rgba(0,0,0,.08);
    }

    h1{
      margin:4px 0 6px;
      text-align:center;
      font-size:38px;
      line-height:1.05;
      letter-spacing:-.5px;
    }

    .sub{
      text-align:center;
      margin:0 0 18px;
      color:#667085;
      font-size:14px;
    }

    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }

    label{
      display:block;
      font-weight:700;
      margin:14px 0 6px;
    }

    input, select{
      width:100%;
      padding:12px 12px;
      border:1px solid #d0d7de;
      border-radius:10px;
      font-size:16px;
      outline:none;
      background:#fff;
    }

    input::placeholder{ color:#9aa4b2; }

    input:focus, select:focus{
      border-color:#4c9ffe;
      box-shadow:0 0 0 3px rgba(76,159,254,.18);
    }

    .btn{
      margin-top:16px;
      width:100%;
      border:none;
      border-radius:12px;
      padding:14px 14px;
      font-size:18px;
      font-weight:700;
      cursor:pointer;
    }

    .btn-primary{
      background:#1677ff;
      color:#fff;
    }
    .btn-primary:active{ transform: translateY(1px); }

    .btn-secondary{
      background:#eef2f6;
      color:#111;
      border:1px solid #d0d7de;
      margin-top:10px;
    }
    .btn-secondary:active{ transform: translateY(1px); }

    .tip{
      margin-top:12px;
      color:#667085;
      font-size:13px;
      text-align:left;
    }

    .resultCard{
      display:none;
      margin-top:16px;
      border:1px solid #d0d7de;
      border-radius:12px;
      padding:14px;
      background:#f8fafc;
    }

    .resultRow{
      display:flex;
      justify-content:space-between;
      padding:8px 0;
      border-bottom:1px solid rgba(0,0,0,.06);
      font-size:15px;
    }
    .resultRow:last-child{ border-bottom:none; }

    .resultTitle{
      color:#667085;
      font-weight:700;
    }

    .total{
      margin-top:10px;
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      font-size:18px;
      font-weight:800;
    }
    .total span:first-child{ color:#111; }
    .total span:last-child{ font-size:22px; }

    .muted{
      color:#667085;
      font-weight:700;
    }
  </style>
</head>

<body>
  <div class="calc">
    <h1>Plumber Calculator</h1>
    <p class="sub">Quick estimate: materials + fittings + labor</p>

    <div class="row">
      <div>
        <label for="currency">Currency</label>
        <select id="currency">
          <option value="AED">AED</option>
          <option value="USD">USD</option>
          <option value="EUR">EUR</option>
        </select>
      </div>

      <div>
        <label for="diameter">Pipe diameter</label>
        <select id="diameter">
          <option value="16">16 mm</option>
          <option value="20">20 mm</option>
          <option value="25">25 mm</option>
          <option value="32">32 mm</option>
          <option value="40">40 mm</option>
        </select>
      </div>
    </div>

    <label for="length">Pipe length (meters)</label>
    <input id="length" type="number" inputmode="decimal" placeholder="e.g. 12.5" step="any" min="0"/>

    <label for="pipePrice">Pipe price per meter</label>
    <input id="pipePrice" type="number" inputmode="decimal" placeholder="e.g. 8.50" step="any" min="0"/>

    <div class="row">
      <div>
        <label for="fittingsCount">Fittings count</label>
        <input id="fittingsCount" type="number" inputmode="numeric" placeholder="e.g. 6" step="1" min="0"/>
      </div>
      <div>
        <label for="fittingPrice">Fitting price (each)</label>
        <input id="fittingPrice" type="number" inputmode="decimal" placeholder="e.g. 3.00" step="any" min="0"/>
      </div>
    </div>

    <div class="row">
      <div>
        <label for="laborHours">Labor hours</label>
        <input id="laborHours" type="number" inputmode="decimal" placeholder="e.g. 2.5" step="any" min="0"/>
      </div>
      <div>
        <label for="laborRate">Labor rate (per hour)</label>
        <input id="laborRate" type="number" inputmode="decimal" placeholder="e.g. 60" step="any" min="0"/>
      </div>
    </div>

    <button class="btn btn-primary" id="calcBtn" type="button">Calculate</button>
    <button class="btn btn-secondary" id="resetBtn" type="button">Reset</button>

    <div class="resultCard" id="resultCard" aria-live="polite">
      <div class="resultRow">
        <div class="resultTitle">Diameter</div>
        <div><span id="outDiameter"></span></div>
      </div>

      <div class="resultRow">
        <div class="resultTitle">Pipe</div>
        <div><span id="outPipe"></span></div>
      </div>

      <div class="resultRow">
        <div class="resultTitle">Fittings</div>
        <div><span id="outFittings"></span></div>
      </div>

      <div class="resultRow">
        <div class="resultTitle">Labor</div>
        <div><span id="outLabor"></span></div>
      </div>

      <div class="total">
        <span>Total</span>
        <span id="outTotal"></span>
      </div>
    </div>

    <div class="tip">
      Tip: fill only what you know — empty fields are treated as 0.
    </div>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);

    function n(v){
      // пусто -> 0, запятая -> точка
      const s = String(v ?? "").trim().replace(",", ".");
      const x = parseFloat(s);
      return Number.isFinite(x) ? x : 0;
    }

    function money(value, cur){
      return value.toFixed(2) + " " + cur;
    }

    $("calcBtn").addEventListener("click", () => {
      const cur = $("currency").value;
      const diameter = $("diameter").value;

      const length = n($("length").value);
      const pipePrice = n($("pipePrice").value);

      const fittingsCount = n($("fittingsCount").value);
      const fittingPrice = n($("fittingPrice").value);

      const laborHours = n($("laborHours").value);
      const laborRate = n($("laborRate").value);

      const pipeCost = length * pipePrice;
      const fittingsCost = fittingsCount * fittingPrice;
      const laborCost = laborHours * laborRate;
      const total = pipeCost + fittingsCost + laborCost;

      $("outDiameter").textContent = `${diameter} mm`;
      $("outPipe").textContent = money(pipeCost, cur);
      $("outFittings").textContent = money(fittingsCost, cur);
      $("outLabor").textContent = money(laborCost, cur);
      $("outTotal").textContent = money(total, cur);

      $("resultCard").style.display = "block";
      $("resultCard").scrollIntoView({ behavior: "smooth", block: "nearest" });
    });

    $("resetBtn").addEventListener("click", () => {
      document.querySelectorAll("input").forEach(i => i.value = "");
      $("currency").selectedIndex = 0;
      $("diameter").selectedIndex = 0;

      $("resultCard").style.display = "none";
      $("outDiameter").textContent = "";
      $("outPipe").textContent = "";
      $("outFittings").textContent = "";
      $("outLabor").textContent = "";
      $("outTotal").textContent = "";
    });
  </script>
</body>
</html>
